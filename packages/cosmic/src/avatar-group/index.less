/*
 * Copyright (c) Baidu, Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@import 'variable.less';
@import (reference) 'tokens.less';

.@{prefix}-avatar-group {
    .cos-inline-block();
    .cos-leading-none();
    font-size: 0;

    & * {
        position: relative;
        .cos-inline-block();
        vertical-align: middle;
    }

    // 默认的尺寸样式（未使用动画时）
    &-xs {
        height: 16px;
        & > *:nth-child(n + 2) {
            margin-left: -7px;
        }
    }

    &-sm {
        height: 24px;
        // FIXME: 使用负值 token var(--cos-space-sm);
        & > *:nth-child(n + 2) {
            margin-left: -12px;
        }
    }

    &-md,
    &-lg /* 为了兼容之前设置 size 为 lg 的业务，所以保留并收敛到 md */ {
        height: 40px;
        & > *:nth-child(n + 2) {
            margin-left: -22px;
        }
    }

    // 默认的 z-index 逻辑
    & > :first-child {
        z-index: 3;
    }

    & > :nth-child(2) {
        z-index: 2;
    }

    & > :nth-child(3) {
        z-index: 1;
    }

    & > :nth-child(n+4) {
        .cos-hidden();
    }

    // 动画样式
    &-animate {
        position: relative;

        // 通过绝对定位来覆盖默认样式
        & > .@{prefix}-avatar {
            position: absolute;
            z-index: auto;
            .cos-space-ml-none();
            .cos-inline-block();
        }
    }
}