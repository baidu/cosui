/*
 * Copyright (c) Baidu, Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@import (reference) 'tokens.less';
@import 'variable.less';

@keyframes loadingIcon {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.@{prefix}-button {
    .cos-flex();
    .cos-color-text-on-primary();
    .cos-rounded-full();
    .cos-font-medium();
    .cos-space-p-none();
    box-sizing: border-box;
    .cos-items-center();
    .cos-justify-center();
    overflow: hidden;
    border-width: 0;
    // 13px = (自然40px高度 - var(--cos-text-body)) / 2，其他处 padding 计算同理，目的是保持自然高度固定
    padding-top: 13px;
    padding-bottom: 13px;
    width: 100%;
    font-size: var(--cos-text-body);
    .cos-text-center();
    text-overflow: ellipsis;
    white-space: nowrap;
    .cos-color-bg-primary();
    outline: none;
    user-select: none;
    .cos-leading-none();

    &.@{prefix}-disabled {
        .cos-opacity-40();
        cursor: not-allowed;
    }

    &.@{prefix}-sm {
    	padding-top: 8px;
    	padding-bottom: 8px;
    }

    &-text,
    &-text-primary {
        width: auto;
        background: none;
    }

    &-text {
        .cos-color-text();
    }

    &-text-primary {
        .cos-color-text-primary();
    }

    // 增加选择器层级以提高特定性
    &&-icon {
        .cos-color-text();
        padding: 7px;
        width: max-content;
        font-size: calc(var(--cos-text-body) + 2px);
        .cos-color-bg-dent();

        .@{prefix}-button-loading {
            .cos-space-mr-none();
        }
    }

    &-plain {
        .cos-color-bg-raised();
        .cos-color-text-on-primary-light();
    }

    &-secondary {
        .cos-color-text-on-primary-light();
        .cos-color-bg-primary-light();
    }

    &-content {
        .cos-flex();
        .cos-justify-center();
        .cos-items-center();
        width: 100%;
        height: 100%;
    }

    &-loading.@{prefix}-icon {
        .cos-space-mr-xxs();
        animation: loadingIcon 1s infinite linear;
    }
}

@media (prefers-color-scheme: dark) {
    @{t7-kernel-selectors} {
        .@{prefix}-button {
            &-secondary {
                color-scheme: dark;
                color: #263678;
                background-color: #4e6ef21a;
            }
        }
    }
}

@{dark-browser-selectors} .@{prefix}-button {
    &-secondary {
        .cos-color-bg-primary-light() !important;
    }

    &-content {
        .cos-color-text-on-primary-light() !important;
    }
}
