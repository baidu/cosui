/*
 * Copyright (c) Baidu, Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@import 'variable.less';
@import (reference) 'tokens.less';

.animationWave(@name) {
    .cos-opacity-100();
    .cos-visible();
    @keyframes @name {
        0%, 100% {
            .cos-opacity-100();
            .cos-visible();
        }
        50% {
            .cos-opacity-0();
            .cos-visible();
        }
    }
    animation: @name 1.2s linear infinite;
}

@keyframes animationLoop {
    from {
        transform: rotate(0deg);
    }
    to {
        transform: rotate(360deg);
    }
}

.@{prefix}-audio-player {
    .cos-flex();
    .cos-items-center();

    &-icon {
        height: calc(16px * var(--font-size-scale, 1));
        .cos-leading-none();

        svg {
            width: calc(16px * var(--font-size-scale, 1));
            height: calc(16px * var(--font-size-scale, 1));
            fill: currentColor;
        }
    }

    &-init {
        .cos-color-text();
        &:active {
            .cos-opacity-20();
        }
    }

    &-pause,
    &-play {
        .cos-color-text-primary();
    }


    &-play {
        & &-wave {
            .animationWave(animationWave);
        }
        & &-loop {
            transform-origin: center;
            animation: animationLoop 1s linear infinite;
        }
    }


    &-enhance {
        .cos-flex();
        .cos-flex-row();
        overflow: hidden;
        .cos-rounded-sm();
        width: 100%;
        height: 55px;
        .cos-color-bg-dent();
        cursor: default;
    }

    &-poster {
        .cos-rounded-none();
        width: 55px;
        cursor: default;
    }

    &-poster::before {
        border: none;
    }

    &-content {
        .cos-flex();
        .cos-flex-col();
        .cos-justify-center();
        flex: 1;
        overflow: hidden;
        .cos-space-pr-sm();
        .cos-space-pl-xs();
    }

    &-title {
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        .cos-font-medium();
        .cos-color-text();
    }

    &-time {
        .cos-color-text-minor();
        .cos-font-regular();
        .cos-flex();
        .cos-items-center();
    }

    &-enhance > &-icon {
        .cos-flex();
        .cos-justify-center();
        .cos-items-center();
        .cos-space-mr-sm();
        height: 100%;;
        font-size: 24px;
        .cos-color-text();
        -webkit-tap-highlight-color: transparent;
    }
}
