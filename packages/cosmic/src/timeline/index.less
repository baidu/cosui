/*
 * Copyright (c) Baidu, Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

@import 'variable.less';
@import (reference) 'tokens.less';

.@{prefix}-timeline {

    // size='lg', 子项文本 font-size 需相应放大
    &-lg {
        .@{prefix}-timeline-item {

            &-text {

                // 对外提供的样式 cos-timeline-text-title
                &-title {
                    font-size: var(--cos-text-subtitle);
                }

                // 对外提供的样式 cos-timeline-text-time
                &-time {
                    font-size: var(--cos-text-body);
                }

                // 对外提供的样式 cos-timeline-text-paragraph
                &-paragraph,
                &-paragraph-minor {
                    .cos-text-body-lg();
                }
            }

            &-dot {
                margin: 2px var(--cos-space-none) 5px;
                width: 9px;
                height: 9px;
            }
        }
    }

    // timeline 横向
    &-horizontal {
        .cos-flex();
        .cos-flex-row();

        .@{prefix}-timeline-item:nth-child(1) {
            .@{prefix}-timeline-item-dot {
                margin: var(--cos-space-none) 4.5px var(--cos-space-none) var(--cos-space-none);
            }
        }

        .@{prefix}-timeline-item {
            .cos-flex-col();

            &-axis {
                .cos-flex-row();
                .cos-flex-nowrap();
                width: 100%;
                height: 7px;
            }

            &-wrapper {
                .cos-space-mt-xs();
                .cos-space-ml-none();
                .cos-space-pr-xl();
            }

            &-dot {
                margin: var(--cos-space-none) 4.5px;
            }
        }
    }

    // 虚线
    &-dashed {
        .@{prefix}-timeline-item-line {
            border: none;
            width: 1px;

            // 为实现虚线间间距为 3 px，通过 linear-gradient 模拟实现
            background: repeating-linear-gradient(
                0deg,
                var(--cos-color-border-tiny) 0px,
                var(--cos-color-border-tiny) 3px,
                transparent 3px,
                transparent 6px,
            );
            background-repeat: repeat-y;
            background-size: 6px 100%;
        }
    }

    // 点线
    &-dotted {
        .@{prefix}-timeline-item-line {
            border-style: dotted;
        }
    }

    // 不展示最后一个节点的 line
    .@{prefix}-timeline-item:last-child {
        .@{prefix}-timeline-item-line {
            border-color: transparent;
            background: none;
        }
    }

    // 单节点情况，需展示 line
    .@{prefix}-timeline-item:nth-child(1) {
        .@{prefix}-timeline-item-line {
            .cos-color-border-tiny();
        }
    }
}